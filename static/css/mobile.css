/* 手机竖屏：完全独立的 UI 逻辑 */
@media (max-width: 520px) and (orientation: portrait) {
  /* 定义 CSS 变量用于挖洞效果 */
  .card {
    --touch-x: 50%;
    --touch-y: 20%; /* 默认在上方 */
    --hole-radius: 75px;
    
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(28px);
    -webkit-backdrop-filter: blur(28px);
    border: 1px solid rgba(255, 105, 180, 0.2);
    border-radius: 28px;
    
    /* 移除所有推拉相关的变量和过渡 */
    transition: none;
    transform: none;
    
    /* 重新定义尺寸：激进变宽，变短 */
    width: 110% !important; 
    height: auto !important;
    min-height: 50vh; /* 缩短卡片高度 */
    margin: 10px -5%; 
    
    /* 
       核心：恢复 Mask，但是逻辑变了
       现在是一个随触摸移动的圆形“透明洞”
       默认不显示洞，只有触摸时才有
       使用 var(--hole-opacity, 0) 来控制透明度，避免黑边问题
    */
    -webkit-mask-image: radial-gradient(
      circle at var(--touch-x, 50%) var(--touch-y, 50%),
      transparent 0,
      transparent var(--hole-radius, 0px),
      black calc(var(--hole-radius, 0px) + 20px)
    );
    mask-image: radial-gradient(
      circle at var(--touch-x, 50%) var(--touch-y, 50%),
      transparent 0,
      transparent var(--hole-radius, 0px),
      black calc(var(--hole-radius, 0px) + 20px)
    );
    
    /* 触摸时平滑过渡 */
    transition: --touch-x 0.05s linear, --touch-y 0.05s linear, --hole-radius 0.2s ease-out;
  }
  
  /* 禁用 hover 推拉效果 */
  .card:hover {
    --split-offset: 0px !important;
  }
  .card:hover .content .left,
  .card:hover .content .right,
  .card:hover .roomno,
  .card:hover .brand-rail {
    transform: none !important;
  }

  /* 小象图标：不再是背景纹理，而是真正被“掏出来”的底层内容 */
  /* 但因为结构限制，小象在卡片内，被mask了就看不见了 */
  /* 所以这里小象依然作为卡片内的水印存在，或者... */
  /* 如果想要“透过洞看到小象”，那小象必须在卡片下面（body上） */
  /* 鉴于当前 HTML 结构，小象在 .card 里面。
     如果 mask 把卡片挖空了，那就直接透出 body 背景（轮播图）了。
     所以“掏洞”效果就是：透过磨砂玻璃看到清晰的背景图。
  */
  
  .elephant-wrap {
    /* 手机端隐藏小象，或者把它挪到洞的位置？ */
    /* 既然是“掏洞”，那应该是为了看清背景。小象如果是水印，就留着吧 */
    z-index: 0;
    opacity: 0.1;
  }
  .elephant-wrap img {
    width: 80%;
    transform: none !important;
  }

  /* 5. 内容布局调整：上下垂直排列 */
  .content {
    flex-direction: column;
    /* 极致压缩内边距 */
    padding: 15px 10px 15px; 
    gap: 8px; /* 进一步减小间距 */
    width: 100%;
    height: 100%;
    zoom: 1; 
    /* 确保文字清晰度 */
    text-shadow: 0 1px 4px rgba(0,0,0,0.3);
  }

  /* 左侧（顶部）信息 */
  .left {
    align-items: center;
    text-align: center;
    flex: 0 0 auto;
    margin-top: 75px; /* 再下移：从 50px 增加到 75px */
  }
  .meta {
    align-items: center;
    gap: 8px; /* 减小间距 */
  }
  
  /* 顶部 ROOM 64 STATION */
  .station {
      font-size: 0.7rem; /* 变小 */
      letter-spacing: 2px;
      color: #ffb6c1;
      font-weight: 500;
      margin-bottom: 4px;
  }

  /* 调整标题字号，还原图片排版 */
  .title {
    font-size: 1.6rem; /* 变小 */
    letter-spacing: 3px;
    margin-bottom: 6px;
    line-height: 1.2;
    /* 强制换行逻辑：如果想和图一样“房间里的”和“大象”分两行，需要HTML结构配合，或者依靠宽度挤压 */
    /* 图中是：房间里的（第一行）大象（第二行），这里我们可以尝试用换行逻辑：如果想 挤压或者直接改 html里的”和“大象”分两行，需要HTML结构配合，或者依靠宽度挤压 */
    /* 图中是：房间里的20第一行）大象（第二行），这里我们可以尝试用 padding 挤压或者直接改 html */
    padding: 0 20px; 
  }
  
  .sub {
    font-size: 0.85rem; /* 变小 */
    letter-spacing: 3px;
    opacity: 0.9;
    color: rgba(255, 255, 255, 0.9);
  }
  
  .notes {
    text-align: left; 
    align-items: flex-start;
    margin-top: 20px;
    gap: 12px;
    padding: 0 10px;
    width: 100%;
    transform: translateX(-10px); /* 整体左移一点 */
  }

  /* Music Archive & Tour Archive Buttons Mobile Adjustments */
  .action-bar,
  .action-bar-right {
    display: flex !important;
    position: relative !important;
    bottom: auto !important;
    left: auto !important;
    right: auto !important;
    top: auto !important;
    width: 100%;
    justify-content: center;
    margin: 5px 0;
    transform: none !important;
    padding: 0;
    z-index: 10;
  }
  
  .action-bar-right {
      margin-bottom: 30px; /* 底部留白 */
  }

  .music-btn {
      width: 75%; /* 按钮宽度 */
      justify-content: center;
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 182, 193, 0.3); /* 淡粉色边框 */
  }
  .note {
    font-size: 0.75rem; /* 字体再小一点 */
    line-height: 1.5;
    color: rgba(255, 255, 255, 0.95);
    display: flex;
    align-items: center;
    white-space: nowrap;
    gap: 0; /* 显式设置为0 */
  }
  .note .star {
      margin-right: 8px;
      font-size: 0.75rem; /* 变小 */
      color: #ffb6c1;
      margin-top: 0; 
      transform: none;
  }
  
  /* 右侧（底部）信息 */
  .right {
    align-items: center;
    text-align: center;
    flex: 1;
    justify-content: flex-end; /* 沉底 */
    margin-top: 15px; /* 减小间距 */
    padding-bottom: 15px;
    width: 100%;
  }
  
  .date {
    font-size: 1.1rem; /* 变小 */
    margin-top: 0;
    margin-bottom: 6px;
    color: rgba(255, 182, 193, 0.8);
    letter-spacing: 3px;
  }
  #clock.clock {
    font-size: 1.0rem; /* 变小 */
    color: #ff69b4;
    letter-spacing: 3px;
    margin-bottom: 20px;
  }
  
  /* 分割线 */
  .divider {
      width: 30px;
      height: 1px;
      background: rgba(255, 182, 193, 0.5);
      margin: 0 auto 20px;
  }
  
  .next-label {
      font-size: 0.65rem;
      letter-spacing: 2px;
      color: rgba(255, 255, 255, 0.6);
      margin-bottom: 15px;
      text-transform: uppercase;
  }
  
  .tour-info {
      align-items: flex-start; /* 左对齐 */
      text-align: left;
      width: 100%;
      padding: 0 15px;
      margin-top: 0;
  }
  
  .tour-card {
      align-items: flex-start;
      text-align: left;
      padding: 0;
      margin-bottom: 0;
  }
  
  .station-name {
      font-size: 1.3rem; /* 变小 */
      font-weight: bold;
      color: rgba(255, 255, 255, 0.95);
      margin-bottom: 6px;
      text-shadow: 0 2px 10px rgba(0,0,0,0.2);
  }
  
  .countdown {
      font-size: 0.85rem; /* 变小 */
      color: rgba(255, 255, 255, 0.85);
      letter-spacing: 1px;
      margin-bottom: 4px;
      font-family: "Courier New", monospace;
  }
  
  .venue-name {
      font-size: 0.75rem; /* 变小 */
      color: rgba(255, 255, 255, 0.6);
      text-align: left;
  }
  
  /* 房间号 */
  .roomno {
    top: 15px;
    right: 15px;
    font-size: 0.8rem;
  }
  
  /* 隐藏品牌侧边栏 */
  .brand-rail {
    display: none;
  }
  
  /* 修复伪元素 */
  .card::before,
  .card::after {
    display: none !important;
  }
}
